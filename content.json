{"meta":{"title":"默言","subtitle":null,"description":null,"author":56,"url":"http://iam070.com"},"pages":[],"posts":[{"title":"编译Android Emulator","slug":"how_to_build_android_emulator","date":"2019-05-06T16:11:03.100Z","updated":"2019-05-06T16:11:03.096Z","comments":true,"path":"2019/05/07/how_to_build_android_emulator/","link":"","permalink":"http://iam070.com/2019/05/07/how_to_build_android_emulator/","excerpt":"","text":"获取源代码Android Emulator的代码在默认的AOSP版本中并未包含，需要指定相关的版本后才能同步。 获取repo跟ASOP一样，下载Android Emulator的代码，同样需要使用repo工具，可以访问网页https://source.android.com/source/downloading.html 获取下载及相关安装指导。 选择当前Android Studio的开发分支查看网页 http://tools.android.com/build 获取最新的分支信息，当前的分支为emu-master-dev 使用repo检出代码mkdir emu-master-dev cd emu-master-dev repo init -u https://android.googlesource.com/platform/manifest \\ -b emu-master-dev repo sync 可以将emu-master-dev替换成其他你想要切换的分支。 下文将emu-master-dev目录用$TOP来代替。 网络链接不稳的处理国内访问AOSP网站经常出现“不稳定”的情况，因此推荐从国内的TUNA源获取代码，详情可以访问https://mirrors.tuna.tsinghua.edu.cn/help/AOSP/ 编译如果一切依赖关系都满足，则执行以下命令就可以顺利编译出Android Emulator。 cd $TOP/external/qemu ./android/rebuild.sh 默认编译出来的文件是放在$TOP/external/qemu下的objs目录，可以使用–out-dir=&lt;path>换成你要的目录 在objs目录下，有几个有趣的测试程序: HelloTriangle HelloHostComposition HelloSurfaceFlinger HelloVulkan 这些是主机侧的图形界面测试程序，默认执行时不会有图形显示，需要设置环境变量才会有显示。 # 是否使用主机的GPU加速，经测试设置后，无法正常关闭 export ANDROID_EMU_TEST_WITH_HOST_GPU=1 # 是否显示图形窗口 export ANDROID_EMU_TEST_WITH_WINDOW=1","categories":[],"tags":[]},{"title":"Hello World!","slug":"hello-world","date":"2019-02-10T15:33:16.618Z","updated":"2019-02-10T15:33:16.614Z","comments":true,"path":"2019/02/10/hello-world/","link":"","permalink":"http://iam070.com/2019/02/10/hello-world/","excerpt":"","text":"org 100h xchg bp,ax mov dx,text int 21h ret text: db &#39;Hello World!$&#39;","categories":[],"tags":[]}]}